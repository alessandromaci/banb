# BANB - Project Summary & Roadmap –∫ 17 –Ω–æ—è–±—Ä—è

## üéØ –í –ß–ï–ú –ò–î–ï–Ø –ü–†–û–ï–ö–¢–ê

**BANB (Blockchain Agent Neo Bank)** ‚Äî —ç—Ç–æ –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ neo-bank –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:
- **–ü—Ä–æ—Å—Ç–æ—Ç—É —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –±–∞–Ω–∫–æ–≤** (UX –∫–∞–∫ —É Revolut/N26)
- **–ú–æ—â—å blockchain** (Base + Solana)
- **AI-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é** –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è**: –°–¥–µ–ª–∞—Ç—å crypto –±–∞–Ω–∫–∏–Ω–≥ —Ç–∞–∫–∏–º –∂–µ –ø—Ä–æ—Å—Ç—ã–º, –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –±–∞–Ω–∫, –Ω–æ —Å DeFi —Å—É–ø–µ—Ä—Å–∏–ª–∞–º–∏.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞:
1. **–ú—É–ª—å—Ç–∏-–∫–æ—à–µ–ª–µ–∫ —Å–∏—Å—Ç–µ–º–∞** - –æ–¥–∏–Ω –ø—Ä–æ—Ñ–∏–ª—å, –º–Ω–æ–∂–µ—Å—Ç–≤–æ wallet'–æ–≤ (Base + Solana)
2. **–£–º–Ω—ã–π Primary Wallet** - gasless —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, transaction bundling
3. **Cross-chain bridge** - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ USDC –º–µ–∂–¥—É Base ‚Üî Solana
4. **Lending/Borrowing** - –∑–∞–ª–æ–≥–æ–≤–æ–µ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Morpho (Base) –∏ Kamino (Solana)
5. **AI Agent** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ —á–µ—Ä–µ–∑ —á–∞—Ç –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
6. **AI Automation** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ ("–µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å < $10, –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ $50 –∏–∑ savings")
7. **Virtual Card** - —Å–∏–º—É–ª—è—Ü–∏—è –∫–∞—Ä—Ç–æ—á–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π

### –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:
- Crypto —ç–Ω—Ç—É–∑–∏–∞—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç —É–¥–æ–±–Ω—ã–π –±–∞–Ω–∫–∏–Ω–≥
- DeFi –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–µ–Ω –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –õ—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å crypto –±–µ–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´ (High-Level)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        USER (Mobile Browser)                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  FRONTEND (Next.js 15 + React 19)                    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ
‚îÇ  ‚îÇDashboard ‚îÇ  ‚îÇ Payments ‚îÇ  ‚îÇ  Card +  ‚îÇ  ‚îÇ    AI    ‚îÇ            ‚îÇ
‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ          ‚îÇ  ‚îÇ Lending  ‚îÇ  ‚îÇ   Chat   ‚îÇ            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ                  ‚îÇ                  ‚îÇ                  ‚îÇ
     ‚ñº                  ‚ñº                  ‚ñº                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Privy  ‚îÇ      ‚îÇ Supabase ‚îÇ      ‚îÇBlockchain‚îÇ      ‚îÇ    AI    ‚îÇ
‚îÇ   SDK   ‚îÇ      ‚îÇPostgreSQL‚îÇ      ‚îÇ  (Base + ‚îÇ      ‚îÇ  OpenAI  ‚îÇ
‚îÇ         ‚îÇ      ‚îÇ          ‚îÇ      ‚îÇ  Solana) ‚îÇ      ‚îÇ   +MCP   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ                ‚îÇ                 ‚îÇ
     ‚ñº                ‚ñº                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    SERVICE LAYER                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
‚îÇ  ‚îÇ   Wagmi    ‚îÇ  ‚îÇ  @solana/  ‚îÇ  ‚îÇ  Bridge  ‚îÇ              ‚îÇ
‚îÇ  ‚îÇ  (Base)    ‚îÇ  ‚îÇ  web3.js   ‚îÇ  ‚îÇ Wormhole ‚îÇ              ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                            ‚îÇ
‚îÇ  ‚îÇ   Morpho   ‚îÇ  ‚îÇ   Kamino   ‚îÇ                            ‚îÇ
‚îÇ  ‚îÇ  Lending   ‚îÇ  ‚îÇ  Lending   ‚îÇ                            ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìä –ß–¢–û –£ –ù–ê–° –°–ï–ô–ß–ê–° –ï–°–¢–¨ (v0 - –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)

### ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:

#### 1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–æ—Ñ–∏–ª–∏**
- ‚úÖ Privy –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (email, Google, Apple, Farcaster login)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ embedded smart wallet –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ handles (–Ω–∞–ø—Ä–∏–º–µ—Ä, "joh7x2")
- ‚úÖ Multi-wallet linking (–º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å MetaMask, Rainbow, WalletConnect)

#### 2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Supabase PostgreSQL)**
- ‚úÖ `profiles` - –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `accounts` - multi-account —Å–∏—Å—Ç–µ–º–∞ (spending, investment, savings)
- ‚úÖ `account_transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π per account
- ‚úÖ `recipients` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—Ç–µ–ª–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- ‚úÖ `investments` - –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ Morpho vaults
- ‚úÖ `investment_movements` - –∏—Å—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏–π –ø–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–º
- ‚úÖ `ai_operations` - audit log AI –æ–ø–µ—Ä–∞—Ü–∏–π

**Profile-Centric Architecture:**
```
                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                          ‚îÇ     PROFILE      ‚îÇ
                          ‚îÇ  (Central Hub)   ‚îÇ
                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                   ‚îÇ
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                         ‚îÇ                         ‚îÇ
         ‚ñº                         ‚ñº                         ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ  ACCOUNTS   ‚îÇ           ‚îÇ INVESTMENTS ‚îÇ         ‚îÇ  RECIPIENTS  ‚îÇ
  ‚îÇ  (1:many)   ‚îÇ           ‚îÇ  (1:many)   ‚îÇ         ‚îÇ   (1:many)   ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                         ‚îÇ
         ‚îÇ                         ‚îÇ
         ‚ñº                         ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ  ACCOUNT    ‚îÇ           ‚îÇ INVESTMENT  ‚îÇ
  ‚îÇTRANSACTIONS ‚îÇ           ‚îÇ  MOVEMENTS  ‚îÇ
  ‚îÇ  (1:many)   ‚îÇ           ‚îÇ  (1:many)   ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–ü–†–ò–ú–ï–† –î–ê–ù–ù–´–•:
Profile: "John" (joh7x2)
  ‚îú‚îÄ‚îÄ Account 1: Primary Smart Wallet (Base) - $500 USDC
  ‚îÇ     ‚îú‚îÄ‚îÄ TX: Sent $50 to Alice
  ‚îÇ     ‚îî‚îÄ‚îÄ TX: Received $100 from Bob
  ‚îú‚îÄ‚îÄ Account 2: External Phantom (Solana) - $200 USDC
  ‚îÇ     ‚îî‚îÄ‚îÄ TX: Moved $100 to Primary via Bridge
  ‚îú‚îÄ‚îÄ Investment: Spark USDC Vault - $1000 @ 6.55% APR
  ‚îÇ     ‚îú‚îÄ‚îÄ Movement: Deposit $1000
  ‚îÇ     ‚îî‚îÄ‚îÄ Movement: Reward $5.50
  ‚îî‚îÄ‚îÄ Recipient: Alice (alice3x9)
```

#### 3. **Payments –Ω–∞ Base**
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ USDC –Ω–∞ Base chain
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è–º–∏
- ‚úÖ Transaction status tracking
- ‚úÖ Blockchain confirmation monitoring
- ‚úÖ Transaction history display

#### 4. **Investments (Morpho Vaults –Ω–∞ Base)**
- ‚úÖ –î–µ–ø–æ–∑–∏—Ç USDC –≤ Morpho vaults:
  - Spark USDC Vault (6.55% APR)
  - Steakhouse USDC Vault (5.59% APR)
  - Seamless USDC Vault (6.99% APR)
- ‚úÖ Batch transactions (approve + deposit –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- ‚úÖ Investment tracking –∏ –∏—Å—Ç–æ—Ä–∏—è
- ‚úÖ Rewards calculation

#### 5. **AI Chat Module**
- ‚úÖ AI agent –¥–ª—è payment execution
- ‚úÖ Chat UI component
- ‚úÖ MCP (Model Context Protocol) tools:
  - `get_user_balance` - –±–∞–ª–∞–Ω—Å USDC
  - `get_accounts` - linked accounts
  - `get_recent_transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
  - `get_recipients` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã
  - `get_investment_options` - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏
- ‚úÖ Operation audit logging

#### 6. **UI/UX**
- ‚úÖ Landing page —Å auto-login –¥–ª—è Farcaster
- ‚úÖ Banking home dashboard
- ‚úÖ Payment flow (type selection, recipient, amount, review, status)
- ‚úÖ Profile management
- ‚úÖ Investment dashboard
- ‚úÖ Responsive design (mobile-first)
- ‚úÖ Dark mode support

#### 7. **Tech Stack**
- ‚úÖ Next.js 15 + React 19 + TypeScript
- ‚úÖ Wagmi v2 + Viem (–¥–ª—è Base/EVM)
- ‚úÖ Privy SDK (auth + wallets)
- ‚úÖ Supabase (PostgreSQL)
- ‚úÖ Tailwind CSS + shadcn/ui (Radix UI)
- ‚úÖ TanStack Query (state management)

---

## üöÄ –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ö 17 –ù–û–Ø–ë–†–Ø (MVP v1)

### üéØ –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å MVP v1:
–†–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –±–∞–∑—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **multi-chain** (Base + Solana), **cross-chain bridge**, **lending –Ω–∞ –æ–±–µ–∏—Ö chain**, **AI analytics**, **AI automation** –∏ **virtual card simulation**.

### ‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:
**$250 transaction limit** –Ω–∞ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è MVP)

---

## üîÑ –ö–õ–Æ–ß–ï–í–´–ï USER FLOWS (—Å ASCII —Å—Ö–µ–º–∞–º–∏)

### Flow 1: Solana Payment (NEW)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Select ‚îÇ      ‚îÇ  Enter   ‚îÇ      ‚îÇ  Review  ‚îÇ      ‚îÇ Execute  ‚îÇ
‚îÇSolana  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Amount  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  & Sign  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ & Track  ‚îÇ
‚îÇAccount ‚îÇ      ‚îÇ& Recip.  ‚îÇ      ‚îÇ          ‚îÇ      ‚îÇ  Status  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                            ‚îÇ
                                                            ‚ñº
                                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                              ‚îÇ 1. Create DB record  ‚îÇ
                                              ‚îÇ    (status:pending)  ‚îÇ
                                              ‚îÇ 2. @solana/web3.js  ‚îÇ
                                              ‚îÇ    transfer()        ‚îÇ
                                              ‚îÇ 3. Update DB         ‚îÇ
                                              ‚îÇ    (status:confirmed)‚îÇ
                                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Flow 2: Cross-Chain Bridge (NEW)
```
USER ACTION: Click "Move" on Solana Account ‚Üí Select Base Account as destination

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Source:      ‚îÇ      ‚îÇ Destination: ‚îÇ      ‚îÇ   Bridge     ‚îÇ
‚îÇ Solana Acct  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Base Acct   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Detection   ‚îÇ
‚îÇ $100 USDC    ‚îÇ      ‚îÇ (Primary)    ‚îÇ      ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                    ‚îÇ
                                    source.chain !== dest.chain?
                                                    ‚îÇ
                                                    ‚ñº YES
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    BRIDGE EXECUTION                              ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ Get Quote‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  User    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Execute  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Track  ‚îÇ‚îÇ
‚îÇ  ‚îÇ (fee+time)‚îÇ     ‚îÇ Confirms ‚îÇ     ‚îÇ Bridge   ‚îÇ     ‚îÇ Status ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  Fee: $0.50                                                     ‚îÇ
‚îÇ  Time: ~2-5 min                                                 ‚îÇ
‚îÇ  Provider: Wormhole                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ DATABASE: Create 2 records            ‚îÇ
        ‚îÇ 1. Solana Account: -$100 (out/bridge) ‚îÇ
        ‚îÇ 2. Base Account:   +$99.50 (in/bridge)‚îÇ
        ‚îÇ    metadata: {bridge_fee: 0.50}       ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Flow 3: Lending/Borrowing (NEW)
```
SCENARIO: User wants to borrow $200 USDC on Base

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Open Virtual ‚îÇ      ‚îÇ Expand       ‚îÇ      ‚îÇ   Deposit    ‚îÇ
‚îÇ Card Page    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ "Borrowed    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Collateral  ‚îÇ
‚îÇ              ‚îÇ      ‚îÇ  USDC"       ‚îÇ      ‚îÇ  (0.1 WETH)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                    ‚îÇ
                                                    ‚ñº
                                          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                          ‚îÇ MORPHO PROTOCOL  ‚îÇ
                                          ‚îÇ (Base Chain)     ‚îÇ
                                          ‚îÇ                  ‚îÇ
                                          ‚îÇ 1. Approve WETH  ‚îÇ
                                          ‚îÇ 2. Deposit WETH  ‚îÇ
                                          ‚îÇ 3. Borrow USDC   ‚îÇ
                                          ‚îÇ                  ‚îÇ
                                          ‚îÇ Collateral Ratio ‚îÇ
                                          ‚îÇ = 200% (safe)    ‚îÇ
                                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                   ‚îÇ
                                                   ‚ñº
                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                    ‚îÇ USER GETS:               ‚îÇ
                                    ‚îÇ ‚Ä¢ $200 USDC in wallet    ‚îÇ
                                    ‚îÇ ‚Ä¢ Position tracked       ‚îÇ
                                    ‚îÇ ‚Ä¢ APR: 5%                ‚îÇ
                                    ‚îÇ                          ‚îÇ
                                    ‚îÇ CARD SHOWS:              ‚îÇ
                                    ‚îÇ Available: $700 (balance)‚îÇ
                                    ‚îÇ          + $200 (borrowed)‚îÇ
                                    ‚îÇ          = $900 total    ‚îÇ
                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Flow 4: AI Automation Rule (NEW)
```
USER: Types in AI chat "create rule: if balance < $10, transfer $50 from savings"

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  AI Parses   ‚îÇ      ‚îÇ    User      ‚îÇ      ‚îÇ    Create    ‚îÇ
‚îÇ  Intent &    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Confirms    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ    Rule in   ‚îÇ
‚îÇ  Parameters  ‚îÇ      ‚îÇ              ‚îÇ      ‚îÇ      DB      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                    ‚îÇ
                                                    ‚ñº
                                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                        ‚îÇ automation_rules      ‚îÇ
                                        ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ
                                        ‚îÇ condition_type:       ‚îÇ
                                        ‚îÇ   "balance_below"     ‚îÇ
                                        ‚îÇ condition_params:     ‚îÇ
                                        ‚îÇ   {threshold: 10}     ‚îÇ
                                        ‚îÇ action_type:          ‚îÇ
                                        ‚îÇ   "transfer"          ‚îÇ
                                        ‚îÇ action_params:        ‚îÇ
                                        ‚îÇ   {amount: 50,        ‚îÇ
                                        ‚îÇ    from: savings_id}  ‚îÇ
                                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                    ‚îÇ
                                        RULE ACTIVE & MONITORING
                                                    ‚îÇ
                                                    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              WHEN CONDITION MET (balance < $10)                  ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ Evaluate ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Execute  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Bridge? ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Log in ‚îÇ‚îÇ
‚îÇ  ‚îÇ   Rule   ‚îÇ     ‚îÇ Transfer ‚îÇ     ‚îÇ (if cross‚îÇ     ‚îÇai_ops  ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ  chain)  ‚îÇ     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ                                     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ
‚îÇ  $250 LIMIT CHECK ‚úì                                             ‚îÇ
‚îÇ  User Notified: "Transferred $50 from Savings per your rule"    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –ü–û –ü–£–ù–ö–¢–ê–ú

## üó∫Ô∏è MULTI-CHAIN WALLET ARCHITECTURE

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ         USER PROFILE            ‚îÇ
                    ‚îÇ      (joh7x2@banb.finance)      ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                        ‚îÇ                        ‚îÇ
        ‚ñº                        ‚ñº                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ PRIMARY WALLET‚îÇ      ‚îÇ EXTERNAL WALLET  ‚îÇ    ‚îÇ EXTERNAL WALLET  ‚îÇ
‚îÇ (Smart Wallet)‚îÇ      ‚îÇ   (Base/MetaMask)‚îÇ    ‚îÇ  (Solana/Phantom)‚îÇ
‚îÇ               ‚îÇ      ‚îÇ                  ‚îÇ    ‚îÇ                  ‚îÇ
‚îÇ Base Chain    ‚îÇ      ‚îÇ  Base Chain      ‚îÇ    ‚îÇ  Solana Chain    ‚îÇ
‚îÇ $500 USDC     ‚îÇ      ‚îÇ  $200 USDC       ‚îÇ    ‚îÇ  $300 USDC       ‚îÇ
‚îÇ               ‚îÇ      ‚îÇ                  ‚îÇ    ‚îÇ                  ‚îÇ
‚îÇ ‚úì Send        ‚îÇ      ‚îÇ ‚úó Send           ‚îÇ    ‚îÇ ‚úó Send           ‚îÇ
‚îÇ ‚úì Borrow      ‚îÇ      ‚îÇ ‚úó Borrow         ‚îÇ    ‚îÇ ‚úó Borrow         ‚îÇ
‚îÇ ‚úì Invest      ‚îÇ      ‚îÇ ‚úó Invest         ‚îÇ    ‚îÇ ‚úó Invest         ‚îÇ
‚îÇ ‚úì Gasless TX  ‚îÇ      ‚îÇ ‚úì Move to Primary‚îÇ    ‚îÇ ‚úì Move to Primary‚îÇ
‚îÇ ‚úì Bundling    ‚îÇ      ‚îÇ (requires ETH gas)‚îÇ   ‚îÇ (requires SOL gas)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                        ‚îÇ                        ‚îÇ
        ‚îÇ                        ‚îÇ                        ‚îÇ
        ‚ñº                        ‚ñº                        ‚ñº
    ALL OPS              ONLY MOVE TO              ONLY MOVE TO
    FROM HERE            PRIMARY WALLET            PRIMARY WALLET

KEY INSIGHT:
‚Ä¢ Primary Wallet = Core operation layer (–≤—Å–µ banking features)
‚Ä¢ External Wallets = Funding sources (—Ç–æ–ª—å–∫–æ transfer –∫ primary)
‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥—É–º–∞–µ—Ç –æ gas - primary wallet –ø–ª–∞—Ç–∏—Ç USDC –∑–∞ gas
```

### **–ë–ª–æ–∫ 1: Solana Integration** üü£

#### 1.1 Solana Wallet Connection
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Solana –∫–æ—à–µ–ª—å–∫–æ–≤ —á–µ—Ä–µ–∑ Privy
- –°–æ–∑–¥–∞–≤–∞—Ç—å account record –≤ Supabase –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ Solana wallet
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å Solana accounts –≤ UI —Å badge "Solana"

**–§–∞–π–ª—ã:**
- `components/wallet/AddAccountModal.tsx` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è account
- –û–±–Ω–æ–≤–∏—Ç—å `lib/accounts.ts` - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É chain='solana'

**Acceptance Criteria:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∫–ª–∏–∫–Ω—É—Ç—å "Add Account" –∏ –≤—ã–±—Ä–∞—Ç—å Solana wallet
- –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è wallet —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ accounts table —Å network='solana'
- Solana accounts –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ dashboard —Å –±–∞–ª–∞–Ω—Å–æ–º USDC

---

#### 1.2 Solana Transaction Service
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `lib/solana/transactions.ts` - database –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è Solana —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°–æ–∑–¥–∞—Ç—å `lib/solana/payments.ts` - React hooks –¥–ª—è Solana USDC transfers
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å @solana/web3.js –∏ Privy Solana wallet integration

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
```typescript
// lib/solana/transactions.ts
createSolanaTransaction() - —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ account_transactions
updateSolanaTransactionStatus() - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
getSolanaTransactions() - –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é

// lib/solana/payments.ts
useSolanaPayment() - React hook –¥–ª—è USDC transfers
useSolanaUSDCBalance() - –ø–æ–ª—É—á–∏—Ç—å USDC –±–∞–ª–∞–Ω—Å
```

**Reference:**
- https://docs.privy.io/wallets/using-wallets/solana/web3-integrations

**Acceptance Criteria:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å USDC —Å Solana wallet
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ account_transactions —Å network='solana'
- –°—Ç–∞—Ç—É—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è (pending ‚Üí confirmed ‚Üí success/failed)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è $250 limit

---

#### 1.3 Solana Payment UI
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π payment flow UI
- –î–æ–±–∞–≤–∏—Ç—å chain detection (Base vs Solana)
- Routing –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É transaction service –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç chain

**–§–∞–π–ª—ã:**
- `app/payments/*` - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ payment pages
- `components/payments/*` - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ payment components

**Acceptance Criteria:**
- Payment flow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç chain –∞–∫—Ç–∏–≤–Ω–æ–≥–æ account
- UI –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è Base –∏ Solana (unified UX)
- Transaction modal –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üåâ BRIDGE vs LENDING (–í–∞–∂–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ!)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         BRIDGE                                   ‚îÇ
‚îÇ  (Moving USDC between chains - between YOUR OWN accounts)       ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  Use Case: "I want my USDC from Solana account on Base"        ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ Your Solana  ‚îÇ    Wormhole/Allbridge    ‚îÇ  Your Base   ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   Account    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Account    ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  $100 USDC   ‚îÇ    (Cross-chain swap)     ‚îÇ  $99.50 USDC ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚Ä¢ Same token (USDC ‚Üí USDC)                                     ‚îÇ
‚îÇ  ‚Ä¢ Different chains                                             ‚îÇ
‚îÇ  ‚Ä¢ Small fee (~$0.50)                                           ‚îÇ
‚îÇ  ‚Ä¢ Takes 2-5 minutes                                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        LENDING                                   ‚îÇ
‚îÇ  (Borrowing USDC using crypto as collateral - single chain)     ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  Use Case: "I want to borrow USDC but keep my ETH"             ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  Deposit     ‚îÇ      Morpho Protocol     ‚îÇ  Receive     ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  0.1 WETH    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  $200 USDC   ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ (collateral) ‚îÇ     (on Base only)       ‚îÇ  (borrowed)  ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚Ä¢ Different tokens (ETH ‚Üí USDC or SOL ‚Üí USDC)                  ‚îÇ
‚îÇ  ‚Ä¢ Same chain only (Base OR Solana, not both)                  ‚îÇ
‚îÇ  ‚Ä¢ Interest APR (~5%)                                           ‚îÇ
‚îÇ  ‚Ä¢ Instant execution                                            ‚îÇ
‚îÇ  ‚Ä¢ Must maintain collateral ratio                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚ö†Ô∏è CRITICAL: Bridge and Lending are SEPARATE systems!
   ‚Ä¢ Bridge = chain-to-chain transfers
   ‚Ä¢ Lending = collateral-based borrowing on single chain
```

### **–ë–ª–æ–∫ 2: Move Funds & Cross-Chain Bridge** üåâ

#### 2.1 Move Funds Page
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `/app/move/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ accounts
- Source account - fixed (account, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –Ω–∞–∂–∞–ª–∏ "Move")
- Destination - dropdown —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ accounts –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å transaction modal –¥–ª—è amount input –∏ review

**UI Flow:**
1. User –∫–ª–∏–∫–∞–µ—Ç "Move" –Ω–∞ account card
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è /move page —Å source account pre-selected
3. User –≤—ã–±–∏—Ä–∞–µ—Ç destination account
4. –ï—Å–ª–∏ chains —Ä–∞–∑–Ω—ã–µ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å "Cross-chain transfer via bridge"
5. User –≤–≤–æ–¥–∏—Ç amount
6. Review screen (—Å bridge fee –µ—Å–ª–∏ bridge –Ω—É–∂–µ–Ω)
7. Execute transaction
8. Status tracking

**Acceptance Criteria:**
- "Move" button –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö external account cards
- Source account –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å (fixed)
- Dropdown –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ accounts –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫—Ä–æ–º–µ source)
- Bridge –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –µ—Å–ª–∏ source.chain !== dest.chain
- $250 limit –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è

---

#### 2.2 Bridge Integration
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –í—ã–±—Ä–∞—Ç—å bridge SDK (Wormhole –∏–ª–∏ Allbridge)
- –°–æ–∑–¥–∞—Ç—å `lib/bridge/index.ts` - bridge service
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å programmatic SDK (–±–µ–∑ iframe!)
- –ó–∞–ø–∏—Å—ã–≤–∞—Ç—å bridge transactions –≤ account_transactions

**Bridge Service:**
```typescript
interface BridgeService {
  getQuote(params) - –ø–æ–ª—É—á–∏—Ç—å fee –∏ estimated time
  executeBridge(params) - –≤—ã–ø–æ–ª–Ω–∏—Ç—å bridge
  getStatus(bridgeId) - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
}
```

**Bridge Triggers:**
1. **Manual**: User clicks "Move" –∏ –≤—ã–±–∏—Ä–∞–µ—Ç account –Ω–∞ –¥—Ä—É–≥–æ–π chain
2. **Automated**: Automation rule –≤—ã–ø–æ–ª–Ω—è–µ—Ç transfer –º–µ–∂–¥—É chains

**Database Recording:**
- –°–æ–∑–¥–∞—Ç—å –î–í–ê record –≤ account_transactions:
  - Source account: direction='out', description='bridge'
  - Destination account: direction='in', description='bridge'
- metadata —Å–æ–¥–µ—Ä–∂–∏—Ç: bridge_provider, source_chain, destination_chain, bridge_fee

**Acceptance Criteria:**
- Bridge –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ triggered –∫–æ–≥–¥–∞ source –∏ dest –Ω–∞ —Ä–∞–∑–Ω—ã—Ö chains
- User –≤–∏–¥–∏—Ç estimated fee –∏ time –≤ review screen
- Transaction status tracking: Sent ‚Üí Bridging ‚Üí Completed
- –û–±–∞ account balances –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ completion
- $250 limit –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è
- –í–µ—Å—å flow –±–µ–∑ iframe/redirect

---

### **–ë–ª–æ–∫ 3: Lending Integration** üí∞

#### 3.1 Morpho Lending (Base) - Borrowing
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –†–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é Morpho integration –Ω–∞ borrowing (—Å–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ vaults)
- –°–æ–∑–¥–∞—Ç—å `lib/lending/morpho.ts` - Morpho lending service
- UI –¥–ª—è deposit collateral (WETH, stETH, cbBTC) –∏ borrow USDC

**Morpho Service:**
```typescript
class MorphoService {
  getMarketData() - APR, available liquidity
  depositCollateral(token, amount) - deposit ETH/BTC as collateral
  borrow(amount) - borrow USDC
  repay(amount) - repay USDC loan
  withdrawCollateral(token, amount) - withdraw collateral
  getPosition(userAddress) - get current lending position
}
```

**Acceptance Criteria:**
- User –º–æ–∂–µ—Ç deposit collateral (WETH/stETH/cbBTC) –Ω–∞ Base
- User –º–æ–∂–µ—Ç borrow USDC –ø—Ä–æ—Ç–∏–≤ collateral
- Real-time collateral ratio calculation
- User –º–æ–∂–µ—Ç repay loan –∏ withdraw collateral
- $250 limit –Ω–∞ –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
- Lending position query –Ω–∞–ø—Ä—è–º—É—é –∏–∑ Morpho API (–Ω–µ –∫–µ—à–∏—Ä—É–µ–º –≤ DB)

---

#### 3.2 Kamino Lending (Solana)
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `lib/lending/kamino.ts` - Kamino lending service
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Kamino protocol –Ω–∞ Solana
- UI –¥–ª—è deposit SOL collateral –∏ borrow USDC

**Kamino Service:**
```typescript
class KaminoService {
  getMarketData() - APR, available liquidity
  depositCollateral(amount) - deposit SOL as collateral
  borrow(amount) - borrow USDC
  repay(amount) - repay USDC
  withdrawCollateral(amount) - withdraw SOL
  getPosition(userAddress) - get position
}
```

**Acceptance Criteria:**
- User –º–æ–∂–µ—Ç deposit SOL –∫–∞–∫ collateral
- User –º–æ–∂–µ—Ç borrow USDC –Ω–∞ Solana
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Privy Solana wallet
- $250 limit –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏

---

#### 3.3 Virtual Card + Lending Management UI
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é card page
- –û–±—ä–µ–¥–∏–Ω–∏—Ç—å card visual —Å lending position management
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: Available to Spend = USDC balance + borrowed USDC

**Card Page Structure:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Virtual Card Visual   ‚îÇ
‚îÇ   Available: $1,250     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Available USDC: $1,000 [Details ‚ñº]
  ‚îî‚îÄ Breakdown –ø–æ accounts

Borrowed USDC: $250 [Details ‚ñº]
  ‚îî‚îÄ Lending Position Details
     ‚Ä¢ Collateral: 0.1 WETH
     ‚Ä¢ Borrowed: $250 USDC
     ‚Ä¢ APR: 5%
     ‚Ä¢ Collateral Ratio: 200%
     [Borrow More] [Repay] [Withdraw]

[Pay with Card] (Simulation)

Simulated Transactions (memory only):
- Starbucks: $5.50
- Amazon: $45.00
```

**Acceptance Criteria:**
- Card –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç total available (balance + borrowable)
- Collapsible sections –¥–ª—è Available –∏ Borrowed
- Lending operations –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ real blockchain transactions
- Card payments —Å–∏–º—É–ª–∏—Ä—É—é—Ç—Å—è (memory only, no DB)
- –ü–æ—Å–ª–µ borrow/repay/withdraw - refetch lending position
- Disclaimer: "Test mode ‚Äî No real money spent"

**Card UI Detail:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    BANB CARD                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   üí≥ BANB                                         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   Available to Spend                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   $1,250.00                                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   **** **** **** 7x2                             ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Available to Spend: $1,250.00

‚îå‚îÄ Available USDC: $1,000.00 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ [‚ñº]‚îÄ‚îê
‚îÇ                                                         ‚îÇ
‚îÇ  Breakdown:                                             ‚îÇ
‚îÇ  ‚Ä¢ Spending Account (Base):     $500                   ‚îÇ
‚îÇ  ‚Ä¢ Investment Account (Base):   $300                   ‚îÇ
‚îÇ  ‚Ä¢ External Wallet (Solana):    $200                   ‚îÇ
‚îÇ                                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ Borrowed USDC: $250.00 ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ [‚ñº]‚îÄ‚îê
‚îÇ                                                         ‚îÇ
‚îÇ  Lending Position:                                      ‚îÇ
‚îÇ  ‚Ä¢ Protocol: Morpho (Base)                             ‚îÇ
‚îÇ  ‚Ä¢ Collateral: 0.1 WETH ($300)                        ‚îÇ
‚îÇ  ‚Ä¢ Borrowed: $250 USDC                                ‚îÇ
‚îÇ  ‚Ä¢ APR: 5.0%                                          ‚îÇ
‚îÇ  ‚Ä¢ Collateral Ratio: 120% (Safe ‚úì)                   ‚îÇ
‚îÇ  ‚Ä¢ Liquidation Risk: Low                              ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ Borrow More ‚îÇ ‚îÇ   Repay     ‚îÇ ‚îÇ  Withdraw   ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ             ‚îÇ ‚îÇ             ‚îÇ ‚îÇ  Collateral ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  Available Collateral Types:                           ‚îÇ
‚îÇ  Base: WETH, stETH, cbBTC                             ‚îÇ
‚îÇ  Solana: SOL                                          ‚îÇ
‚îÇ                                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Pay with Card (Simulation)                 ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  ‚ö†Ô∏è Test mode ‚Äî No real money spent                    ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  [Simulate Payment]                                    ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  Recent Simulations (memory only):                     ‚îÇ
‚îÇ  ‚Ä¢ Starbucks Coffee        $5.50                       ‚îÇ
‚îÇ  ‚Ä¢ Amazon Purchase        $45.00                       ‚îÇ
‚îÇ  ‚Ä¢ Uber Ride              $12.00                       ‚îÇ
‚îÇ                                                         ‚îÇ
‚îÇ  These are NOT real transactions!                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### **–ë–ª–æ–∫ 4: AI-Powered Features** ü§ñ

#### 4.1 AI Analytics - Spending Insights
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `lib/ai/analytics.ts` - analytics service
- –†–∞—Å—à–∏—Ä–∏—Ç—å AI chat –¥–ª—è spending queries
- Aggregation –¥–∞–Ω–Ω—ã—Ö –∏–∑ account_transactions

**Supported Queries:**
- "How much did I spend this week?"
- "Where do I spend the most?"
- "How much am I spending per category?"
- "How can I save most?"
- "What's my borrow APR?"

**Analytics Service:**
```typescript
class AnalyticsService {
  getSpendingAnalytics(profileId, period) - total spent, by category, by recipient
  analyzeSpendingPatterns() - insights and recommendations
  getSavingSuggestions() - saving opportunities
}
```

**Acceptance Criteria:**
- AI –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ spending queries —Å numeric summaries
- Aggregation across all user accounts –∏ chains
- Response time < 2 seconds
- Conversational format —Å actionable insights

---

#### 4.2 AI Automation - Programmable Rules
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `lib/ai/automation.ts` - automation engine
- –°–æ–∑–¥–∞—Ç—å `automation_rules` table –≤ Supabase
- UI –¥–ª—è management rules (view, pause, delete)
- Execution engine –¥–ª—è rule triggers

**Automation Engine:**
```typescript
class AutomationEngine {
  createRule(rule) - —Å–æ–∑–¥–∞—Ç—å rule —á–µ—Ä–µ–∑ AI chat
  evaluateRules(profileId) - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å conditions
  executeRule(ruleId) - –≤—ã–ø–æ–ª–Ω–∏—Ç—å action
  getRules(profileId) - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ rules
  updateRule(ruleId, updates) - pause/resume
  deleteRule(ruleId) - —É–¥–∞–ª–∏—Ç—å rule
}
```

**Rule Examples:**
- "If balance < $10, transfer $50 from savings"
- "If investment earns $10, withdraw to spending"
- "If dining spending > $100/week, notify me"

**UI –¥–ª—è Rules:**
- Tab "AI Rules" –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º AI section
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: name, description, enabled status, execution count, last execution
- Quick actions: Pause/Resume, Delete
- Editing —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ AI chat (no manual parameter editing)

**Acceptance Criteria:**
- User –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å rules —á–µ—Ä–µ–∑ AI chat
- Rules —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ automation_rules table
- Rules –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ trigger conditions
- User –º–æ–∂–µ—Ç pause/resume/delete rules –≤ UI
- Executions –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ ai_operations table
- $250 limit –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ automated actions
- Bridge –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ triggered –µ—Å–ª–∏ rule —Ç—Ä–µ–±—É–µ—Ç cross-chain transfer

---

#### 4.3 AI Rules Management UI
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –î–æ–±–∞–≤–∏—Ç—å tab "AI Rules" –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π AI section
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è active rules
- –ö–Ω–æ–ø–∫–∏ pause/resume/delete

**Location:**
- `components/ai/AutomationRulesManager.tsx`
- –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π AI section –∫–∞–∫ tab view

**Acceptance Criteria:**
- Tab –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è "AI Chat" | "AI Rules"
- Empty state —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π —Å–æ–∑–¥–∞—Ç—å rule —á–µ—Ä–µ–∑ chat
- Rule cards –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç: name, description, status, execution stats
- Quick buttons: Pause, Resume, Delete
- Help text –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI chat –¥–ª—è editing

---

### **–ë–ª–æ–∫ 5: Database Schema Updates** üíæ

#### 5.1 Extend Accounts Table
**SQL:**
```sql
ALTER TABLE accounts ADD COLUMN IF NOT EXISTS chain VARCHAR(20) DEFAULT 'base';
CREATE INDEX idx_accounts_chain ON accounts(chain);
CREATE INDEX idx_accounts_profile_chain ON accounts(profile_id, chain);
```

#### 5.2 Extend Account Transactions Table
**SQL:**
```sql
ALTER TABLE account_transactions
ADD COLUMN IF NOT EXISTS category VARCHAR(50),
ADD COLUMN IF NOT EXISTS is_automated BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS automation_rule_id UUID;

CREATE INDEX idx_account_transactions_created_at ON account_transactions(account_id, created_at DESC);
CREATE INDEX idx_account_transactions_category ON account_transactions(account_id, category);
```

#### 5.3 Create Automation Rules Table
**SQL:**
```sql
CREATE TABLE automation_rules (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  profile_id UUID NOT NULL REFERENCES profiles(id),
  name VARCHAR(255) NOT NULL,
  description TEXT,
  condition_type VARCHAR(50) NOT NULL,
  condition_params JSONB NOT NULL,
  action_type VARCHAR(50) NOT NULL,
  action_params JSONB NOT NULL,
  enabled BOOLEAN DEFAULT true,
  last_executed_at TIMESTAMPTZ,
  execution_count INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

CREATE INDEX idx_automation_rules_profile ON automation_rules(profile_id);
CREATE INDEX idx_automation_rules_enabled ON automation_rules(enabled);
```

---

### **–ë–ª–æ–∫ 6: Analytics & Monitoring** üìä

#### 6.1 Mixpanel Integration
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –°–æ–∑–¥–∞—Ç—å `lib/analytics/mixpanel.ts`
- Track user journey, funnels, bottlenecks
- Client-side tracking

**Events to Track:**
```typescript
// User Journey
'User Signed Up' - method
'Page Viewed' - page name, duration
'Button Clicked' - button name, context

// Transactions
'Transaction Initiated' - type, chain, amount
'Transaction Completed' - success/failure, duration
'Transaction Failed' - error type

// Features
'Wallet Connected' - chain, is_primary
'Account Added' - chain, account_type
'Move Initiated' - source_chain, dest_chain, is_bridge
'AI Query Submitted' - query_type
'AI Rule Created' - rule_type
'AI Rule Executed' - rule_id, success
'Lending Action' - action, protocol, amount
'Card Simulation' - merchant, amount

// Errors
'Error Occurred' - error_type, context, page
'Insufficient Balance' - required, available, shortfall
```

**Funnels:**
- Signup ‚Üí Add Account ‚Üí First Transaction
- View Card ‚Üí Borrow ‚Üí Simulate Spending
- AI Chat ‚Üí Create Rule ‚Üí Rule Executed

**Acceptance Criteria:**
- Mixpanel SDK –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- Tracking events –Ω–∞ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö actions
- Funnel analysis –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- User journey tracking —Ä–∞–±–æ—Ç–∞–µ—Ç
- Bottleneck identification –≤–æ–∑–º–æ–∂–µ–Ω

---

### **–ë–ª–æ–∫ 7: Error Handling & UX** ‚ö†Ô∏è

#### 7.1 Insufficient Balance Handling
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å clear error message –ø—Ä–∏ insufficient balance
- Suggest resolution: manual move –∏–ª–∏ create automation rule

**Implementation:**
```typescript
if (userBalance < requiredAmount) {
  throw new Error(
    `Insufficient balance. You need ${shortfall} more USDC.
     Move funds from another account or create an automation rule.`
  );
}
```

**Acceptance Criteria:**
- Error –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ transaction attempt
- Message –≤–∫–ª—é—á–∞–µ—Ç shortfall amount
- Suggestions –¥–ª—è resolution (Move page –∏–ª–∏ AI rule)

---

#### 7.2 Transaction Limit Enforcement
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- Enforce $250 USD limit –Ω–∞ –≤—Å–µ transaction types
- Reject transactions exceeding limit —Å clear error

**Transaction Types:**
- Send USDC
- Borrow USDC
- Bridge USDC
- Deposit collateral (–≤ USD equivalent)
- Internal transfers
- Automated transfers

**Acceptance Criteria:**
- Validation –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π transaction
- USD value calculation –¥–ª—è non-USDC assets
- Error message –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç limit –∏ attempted amount
- –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è manual –∏ automated transactions

---

#### 7.3 Error Logging
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Sentry –¥–ª—è error monitoring
- Console logging –¥–ª—è development
- –ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å error table –≤ Supabase

**Rationale:**
- External monitoring tools –ª—É—á—à–µ –¥–ª—è errors
- Transient data –Ω–µ –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ DB storage
- Better error grouping –∏ analysis

---

### **–ë–ª–æ–∫ 8: Testing & Quality** ‚úÖ

#### 8.1 Manual Testing Checklist
**Pre-Launch:**
- [ ] All chains connect successfully (Base + Solana)
- [ ] Transactions execute –Ω–∞ mainnet —Å $250 limit
- [ ] Bridge completes cross-chain transfers
- [ ] Lending positions display correctly
- [ ] AI analytics return accurate data
- [ ] Automation rules execute correctly
- [ ] Card simulation works –±–µ–∑ real transactions
- [ ] Error messages clear –∏ helpful
- [ ] UI responsive –Ω–∞ mobile
- [ ] Transaction history displays correctly

#### 8.2 Security Verification
- [ ] Amount validation —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Address validation –¥–ª—è Base –∏ Solana
- [ ] $250 limit enforced –≤–µ–∑–¥–µ
- [ ] RLS policies –≤ Supabase
- [ ] No private keys –≤ code
- [ ] API authentication —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üóìÔ∏è TIMELINE –ò –ü–†–ò–û–†–ò–¢–ï–¢–´

### Critical Path (Must Have –∫ 17 –Ω–æ—è–±—Ä—è):

**Week 1 (—Å–µ–π—á–∞—Å - 10 –Ω–æ—è–±—Ä—è):**
1. ‚úÖ Solana wallet connection
2. ‚úÖ Solana transaction service
3. ‚úÖ Move funds page (–±–µ–∑ bridge)
4. ‚úÖ Database schema updates

**Week 2 (11-17 –Ω–æ—è–±—Ä—è):**
1. ‚ö†Ô∏è **CRITICAL**: Bridge integration (Wormhole/Allbridge)
2. ‚ö†Ô∏è **CRITICAL**: Morpho lending borrowing
3. ‚ö†Ô∏è **CRITICAL**: Kamino lending integration
4. ‚ö†Ô∏è **CRITICAL**: Virtual card + lending UI
5. ‚úÖ AI analytics queries
6. ‚úÖ AI automation rules
7. ‚úÖ Mixpanel integration
8. ‚úÖ Testing –∏ bug fixes

### Nice to Have (–µ—Å–ª–∏ —É—Å–ø–µ–µ–º):
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è polishing UI
- Extended error handling
- Performance optimization
- Advanced analytics queries

---

## üìÅ –§–ê–ô–õ–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê (–Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã)

```
banb/
‚îÇ
‚îú‚îÄ‚îÄ lib/                                    (Business Logic Layer)
‚îÇ   ‚îú‚îÄ‚îÄ solana/                            üÜï NEW MODULE
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transactions.ts                - Solana DB operations (mirror lib/transactions.ts)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ payments.ts                    - Solana payment hooks (mirror lib/payments.ts)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ bridge/                            üÜï NEW MODULE
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts                       - Bridge service (Wormhole/Allbridge SDK)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ detector.ts                    - Auto-detect –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω bridge
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lending/                           üÜï NEW MODULE
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ morpho.ts                      - Morpho lending service (Base)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ kamino.ts                      - Kamino lending service (Solana)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ai/                                üîÑ EXTEND EXISTING
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics.ts          üÜï       - Spending analytics queries
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ automation.ts         üÜï       - Automation rule engine
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ analytics/                         üÜï NEW MODULE
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mixpanel.ts                    - Mixpanel tracking
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ accounts.ts               üîÑ       - UPDATE: add chain='solana' support
‚îÇ   ‚îú‚îÄ‚îÄ payments.ts               ‚úÖ       - EXISTING (Base payments)
‚îÇ   ‚îú‚îÄ‚îÄ transactions.ts           ‚úÖ       - EXISTING (Base DB operations)
‚îÇ   ‚îî‚îÄ‚îÄ supabase.ts              üîÑ       - UPDATE: new table types
‚îÇ
‚îú‚îÄ‚îÄ app/                                   (Next.js App Router)
‚îÇ   ‚îú‚îÄ‚îÄ move/                              üÜï NEW PAGE
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                       - Move funds between accounts
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ card/                              üîÑ EXTEND EXISTING
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                       - Enhanced with lending UI
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ payments/                          ‚úÖ EXISTING
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [pages]                        - Reuse for Solana (auto-detect chain)
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ ai-assistant/                      üîÑ EXTEND EXISTING
‚îÇ       ‚îî‚îÄ‚îÄ [pages]                        - Add analytics & automation
‚îÇ
‚îú‚îÄ‚îÄ components/                            (React Components)
‚îÇ   ‚îú‚îÄ‚îÄ wallet/                            üÜï NEW
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AddAccountModal.tsx            - Modal –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è account
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ ai/                                üîÑ EXTEND EXISTING
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AIAgentChat.tsx       ‚úÖ       - EXISTING
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AutomationRulesManager.tsx üÜï  - UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è rules
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lending/                           üÜï NEW
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LendingPositionDetails.tsx     - Lending position display
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CollateralOptions.tsx          - Collateral type selector
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BorrowRepayModal.tsx           - Borrow/Repay UI
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ [existing components]      ‚úÖ       - Reuse –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ!
‚îÇ
‚îî‚îÄ‚îÄ database/                              (Supabase Migrations)
    ‚îî‚îÄ‚îÄ migrations/                        üÜï NEW
        ‚îú‚îÄ‚îÄ 001_add_chain_to_accounts.sql
        ‚îú‚îÄ‚îÄ 002_extend_account_transactions.sql
        ‚îî‚îÄ‚îÄ 003_create_automation_rules.sql

LEGEND:
üÜï = Completely new (to create)
üîÑ = Existing (to modify/extend)
‚úÖ = Existing (use as-is, no changes)
```

### Dependency Flow (–Ω–æ–≤—ã–π –∫–æ–¥ ‚Üí —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
```
NEW Solana Module
    ‚Üì
    ‚îú‚îÄ‚Üí Reuses: account_transactions table (existing)
    ‚îú‚îÄ‚Üí Reuses: payment modal UI (existing)
    ‚îî‚îÄ‚Üí Reuses: transaction status tracking (existing)

NEW Bridge Module
    ‚Üì
    ‚îú‚îÄ‚Üí Calls: Solana module (new)
    ‚îú‚îÄ‚Üí Calls: Base payments (existing)
    ‚îî‚îÄ‚Üí Writes to: account_transactions (existing)

NEW Lending Module
    ‚Üì
    ‚îú‚îÄ‚Üí Uses: Primary wallet (existing)
    ‚îú‚îÄ‚Üí Uses: Transaction bundling (existing via Privy)
    ‚îî‚îÄ‚Üí Queries: Protocol APIs directly (no new DB tables)

NEW AI Features
    ‚Üì
    ‚îú‚îÄ‚Üí Reads from: account_transactions (existing)
    ‚îú‚îÄ‚Üí Uses: AI chat infrastructure (existing)
    ‚îî‚îÄ‚Üí Writes to: automation_rules (new table)
```

---

## üéØ SUCCESS METRICS

### MVP v1 —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º –µ—Å–ª–∏:
1. ‚úÖ User –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å Solana wallet
2. ‚úÖ User –º–æ–∂–µ—Ç send USDC –Ω–∞ Solana
3. ‚úÖ User –º–æ–∂–µ—Ç bridge USDC Base ‚Üî Solana
4. ‚úÖ User –º–æ–∂–µ—Ç borrow USDC –Ω–∞ Base (Morpho)
5. ‚úÖ User –º–æ–∂–µ—Ç borrow USDC –Ω–∞ Solana (Kamino)
6. ‚úÖ AI analytics —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è spending queries
7. ‚úÖ AI automation rules —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è
8. ‚úÖ Virtual card –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç lending positions
9. ‚úÖ $250 limit enforced –≤–µ–∑–¥–µ
10. ‚úÖ Mixpanel tracking —Ä–∞–±–æ—Ç–∞–µ—Ç

### Technical Goals:
- No breaking changes –¥–ª—è existing features
- Performance: page load < 3s, transaction time < 5s
- Error rate < 5%
- Mobile responsive 100%
- Security: –≤—Å–µ validations —Ä–∞–±–æ—Ç–∞—é—Ç

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï CONSTRAINTS

### Transaction Limit:
- **$250 USD maximum** –Ω–∞ –ª—é–±—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫: send, borrow, bridge, collateral deposit, automated transfers
- –¶–µ–ª—å: –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MVP

### Smart Wallet Strategy:
- **Primary Wallet** (Privy smart wallet) - –¥–ª—è –í–°–ï–• –æ–ø–µ—Ä–∞—Ü–∏–π
- **External Wallets** - —Ç–æ–ª—å–∫–æ –¥–ª—è Move to Primary
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞: gasless transactions, transaction bundling
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ù–ï —É–ø—Ä–∞–≤–ª—è—é—Ç gas tokens –Ω–∞–ø—Ä—è–º—É—é

### Database Strategy:
- **–ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å** –Ω–æ–≤—ã–µ tables –¥–ª—è:
  - Bridge transactions (use account_transactions)
  - Lending positions (query from protocol APIs)
  - Card simulations (memory only)
  - Error logs (use Sentry)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ tables –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ

---

## üö® –†–ò–°–ö–ò –ò MITIGATION

### Risk 1: Bridge Integration –°–ª–æ–∂–Ω–æ—Å—Ç—å
- **Mitigation**: –í—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω bridge (Wormhole –∏–ª–∏ Allbridge), –Ω–∞—á–∞—Ç—å —Ä–∞–Ω–æ
- **Backup**: –ï—Å–ª–∏ –Ω–µ —É—Å–ø–µ–µ–º - –≤—Ä–µ–º–µ–Ω–Ω–æ disable cross-chain, —Ç–æ–ª—å–∫–æ same-chain moves

### Risk 2: Lending Protocol APIs
- **Mitigation**: –ù–∞—á–∞—Ç—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Morpho/Kamino ASAP
- **Backup**: Mock data –¥–ª—è UI development

### Risk 3: Timeline Too Tight
- **Mitigation**: Focus –Ω–∞ Critical Path, postpone nice-to-haves
- **Backup**: –í—ã–ø—É—Å—Ç–∏—Ç—å MVP v1.1 —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é –ø–æ—Å–ª–µ 17 –Ω–æ—è–±—Ä—è

### Risk 4: Testing Time
- **Mitigation**: Continuous testing –≤–æ –≤—Ä–µ–º—è development
- **Backup**: Extended testing weekend 16-17 –Ω–æ—è–±—Ä—è

---

## üìû NEXT STEPS

### –°–µ–≥–æ–¥–Ω—è (8 –Ω–æ—è–±—Ä—è):
1. ‚úÖ Review —ç—Ç–æ–≥–æ summary
2. ‚úÖ Prioritize tasks
3. ‚úÖ –ù–∞—á–∞—Ç—å Solana integration

### –ó–∞–≤—Ç—Ä–∞ (9 –Ω–æ—è–±—Ä—è):
1. Solana wallet connection + UI
2. Solana transaction service
3. Database migrations

### 10-11 –Ω–æ—è–±—Ä—è:
1. Move funds page
2. Bridge SDK evaluation –∏ integration start

### 12-14 –Ω–æ—è–±—Ä—è:
1. Bridge completion
2. Morpho/Kamino lending integration
3. Virtual card UI

### 15-17 –Ω–æ—è–±—Ä—è:
1. AI features (analytics + automation)
2. Mixpanel integration
3. Testing –∏ bug fixes
4. Final polish

---

## üìä PROGRESS TRACKING TABLE

### Week 1 (8-10 –Ω–æ—è–±—Ä—è) - Foundation
| Task | Status | Owner | Notes |
|------|--------|-------|-------|
| Database migrations (add chain column) | üîÑ | Backend | Priority 1 |
| Solana wallet connection UI | üîÑ | Frontend | Uses Privy SDK |
| lib/solana/transactions.ts | ‚è≥ | Backend | Mirror Base pattern |
| lib/solana/payments.ts | ‚è≥ | Frontend | Use @solana/web3.js |
| Move page UI (without bridge) | ‚è≥ | Frontend | Reuse transaction modal |
| Update accounts service | ‚è≥ | Backend | Add chain support |

### Week 2 (11-14 –Ω–æ—è–±—Ä—è) - Core Features
| Task | Status | Owner | Notes |
|------|--------|-------|-------|
| Bridge SDK integration | ‚è≥ | Full-stack | Wormhole vs Allbridge |
| lib/bridge/index.ts | ‚è≥ | Backend | |
| Move page + bridge detection | ‚è≥ | Frontend | Auto-detect chains |
| lib/lending/morpho.ts | ‚è≥ | Backend | Borrowing feature |
| lib/lending/kamino.ts | ‚è≥ | Backend | Solana lending |
| Virtual card UI update | ‚è≥ | Frontend | Add lending section |
| Lending position components | ‚è≥ | Frontend | Collapsible UI |

### Week 2 (15-17 –Ω–æ—è–±—Ä—è) - Polish & Testing
| Task | Status | Owner | Notes |
|------|--------|-------|-------|
| AI analytics service | ‚è≥ | Backend | Spending queries |
| AI automation engine | ‚è≥ | Backend | Rule evaluation |
| automation_rules table | ‚è≥ | Backend | Migration |
| AutomationRulesManager UI | ‚è≥ | Frontend | Tab in AI section |
| Mixpanel integration | ‚è≥ | Full-stack | Event tracking |
| End-to-end testing | ‚è≥ | QA | All flows |
| Bug fixes & polish | ‚è≥ | All | Final tweaks |

**Legend:**
- ‚úÖ Done
- üîÑ In Progress
- ‚è≥ Not Started
- ‚ùå Blocked

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**BANB MVP v1** - —ç—Ç–æ ambitious –Ω–æ achievable goal. –ú—ã —Ä–∞—Å—à–∏—Ä—è–µ–º solid foundation (v0) —Å multi-chain capabilities, AI automation –∏ lending features.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ
- Focus –Ω–∞ user experience –∏ simplicity
- Safety first ($250 limit)
- Quality over quantity features

**–ö 17 –Ω–æ—è–±—Ä—è —É –Ω–∞—Å –±—É–¥–µ—Ç:**
- Full multi-chain neobank (Base + Solana)
- Cross-chain bridge
- Lending –Ω–∞ –æ–±–µ–∏—Ö chains
- AI-powered banking —Å automation
- Virtual card simulation
- Production-ready MVP –¥–ª—è –¥–µ–º–æ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞–º

–≠—Ç–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π working product, –Ω–µ –ø—Ä–æ—Å—Ç–æ demo! üöÄ
